# Linux模拟器支持

## 准备工作

- 在[MAA官网](https://maa.plus/)下载Linux动态库并解压
- 进入`./MAA-v{版本号}-linux-x{框架}/Python/`目录下打开`sample.py`文件
- 配置adb：找到[if asst.connect('adb.exe', '127.0.0.1:5555'):](https://github.com/MaaAssistantArknights/MaaAssistantArknights/blob/722f0ddd4765715199a5dc90ea1bec2940322344/src/Python/sample.py#L48)一栏根据系统情况填写
  - 如果模拟器使用`avd`自带`adb`，可以直接在`adb.exe`一栏填写`adb`路径（一般在`~/Android/Sdk/platform-tools/`里面可以找到，例如`if asst.connect("/home/user1/Android/Sdk/platform-tools/adb", "模拟器的adb地址"):`）
  - 如果使用其他模拟器须先下载`adb`：`sudo apt install adb`后填写路径或全局变量直接写`"adb"`即可
  - adb地址的获取：可以直接使用adb工具：`adb路径 devices`
    - 例如`/home/user1/Android/Sdk/platform-tools/adb devices`
    - 返回两行
      - `List of devices attached`
      - `emulator-5555	device`
    - `emulator-5555`就是模拟器的adb地址，填入`127.0.0.1:5555`，如`if asst.connect("/home/user1/Android/Sdk/platform-tools/adb", "emulator-5555"):`
- 这时候可以测试下，`$ python3 sample.py`，如果返回`连接成功`则基本完成了
- 自定义任务：[# 任务及参数请参考 docs/集成文档.md](https://github.com/MaaAssistantArknights/MaaAssistantArknights/blob/722f0ddd4765715199a5dc90ea1bec2940322344/src/Python/sample.py#L54)一栏根据需要和[3.x集成文档](https://maa.plus/docs/3.1-%E9%9B%86%E6%88%90%E6%96%87%E6%A1%A3.html)部分修改

## 模拟器支持

### ✅ [AVD](https://developer.android.com/studio/run/managing-avds)

- 必选配置：16:9的屏幕分辨率，且分辨率需大于720p
- 推荐配置：x86_64的框架（R - 30 - x86_64 - Android 11.0）配合MAA的linux x64动态库

### ⚠️ [Genymotion](https://www.genymotion.com/)

- 高版本安卓自带x86_64框架，轻量但是明日方舟易闪退
- 暂未严格测试，adb功能和路径获取没有问题
